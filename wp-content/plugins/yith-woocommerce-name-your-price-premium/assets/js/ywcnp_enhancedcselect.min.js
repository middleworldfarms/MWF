jQuery(function(a){a("body").on("ywcnp-enhanced-select-init",function(){a(":input.ywcnp_enhanced_select").filter(":not(.enhanced)").each(function(){var e={allowClear:!!a(this).data("allow_clear"),placeholder:a(this).data("placeholder"),minimumInputLength:a(this).data("minimum_input_length")?a(this).data("minimum_input_length"):"3",escapeMarkup:function(e){return e},ajax:{method:"GET",url:ywcnp_enhanceselect.ajax_url,dataType:"json",quietMillis:250,data:function(e,n){return{term:e,action:a(this).data("action")||"yith_json_search_product_categories",security:ywcnp_enhanceselect.search_categories_nonce,plugin:ywcnp_enhanceselect.plugin_nonce}},results:function(e,n){var t=[];return e&&a.each(e,function(e,n){t.push({id:e,text:n})}),{results:t}},cache:!0}};!0===a(this).data("multiple")?(e.multiple=!0,e.initSelection=function(e,n){var t=a.parseJSON(e.attr("data-selected")),c=[];return a(e.val().split(",")).each(function(e,n){c.push({id:n,text:t[n]})}),n(c)},e.formatSelection=function(e){return'<div class="selected-option" data-id="'+e.id+'">'+e.text+"</div>"}):(e.multiple=!1,e.initSelection=function(e,n){return n({id:e.val(),text:e.attr("data-selected")})}),e=a.extend(e,{formatMatches:function(e){return 1===e?ywcnp_enhanceselect.i18n_matches_1:ywcnp_enhanceselect.i18n_matches_n.replace("%qty%",e)},formatNoMatches:function(){return ywcnp_enhanceselect.i18n_no_matches},formatAjaxError:function(e,n,t){return ywcnp_enhanceselect.i18n_ajax_error},formatInputTooShort:function(e,n){n-=e.length;return 1==n?ywcnp_enhanceselect.i18n_input_too_short_1:ywcnp_enhanceselect.i18n_input_too_short_n.replace("%qty%",n)},formatInputTooLong:function(e,n){e=e.length-n;return 1==e?ywcnp_enhanceselect.i18n_input_too_long_1:ywcnp_enhanceselect.i18n_input_too_long_n.replace("%qty%",e)},formatSelectionTooBig:function(e){return 1===e?ywcnp_enhanceselect.i18n_selection_too_long_1:ywcnp_enhanceselect.i18n_selection_too_long_n.replace("%qty%",e)},formatLoadMore:function(e){return ywcnp_enhanceselect.i18n_load_more},formatSearching:function(){return ywcnp_enhanceselect.i18n_searching}}),a(this).select2(e).addClass("enhanced")})}).trigger("ywcnp-enhanced-select-init")});